<jboss>
    <container-configurations>
      <container-configuration>
	 <container-name>Clustered in-memory CMP EntityBean</container-name>
         <depends>jboss:service=DefaultPartition</depends>
         <depends>jboss:service=invoker,type=jrmp</depends>
	 <call-logging>false</call-logging>
	 <container-invoker>org.jboss.proxy.ejb.ProxyFactory</container-invoker>
	 <container-interceptors>
	    <interceptor>org.jboss.ejb.plugins.LogInterceptor</interceptor>
	    <!--interceptor>org.jboss.ejb.plugins.SecurityInterceptor</interceptor-->
	    <!--interceptor>org.jboss.ejb.plugins.TxInterceptorCMT</interceptor-->
	    <interceptor metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
	    <interceptor>org.jboss.ejb.plugins.EntityLockInterceptor</interceptor>
	    <interceptor>org.jboss.ejb.plugins.EntityInstanceInterceptor</interceptor>
	    <interceptor>org.jboss.ejb.plugins.EntitySynchronizationInterceptor</interceptor>
	 </container-interceptors>
	 <client-interceptors>
           <home>
             <interceptor>org.jboss.proxy.ejb.HomeInterceptor</interceptor>
             <!--interceptor>org.jboss.proxy.SecurityInterceptor</interceptor-->
             <interceptor>org.jboss.proxy.TransactionInterceptor</interceptor>
             <interceptor>org.jboss.invocation.InvokerInterceptor</interceptor>
           </home>
           <bean>
             <interceptor>org.jboss.proxy.ejb.EntityInterceptor</interceptor>
             <!--interceptor>org.jboss.proxy.SecurityInterceptor</interceptor-->
             <interceptor>org.jboss.proxy.TransactionInterceptor</interceptor>
             <interceptor>org.jboss.invocation.InvokerInterceptor</interceptor>
           </bean>
           <list-entity>
             <interceptor>org.jboss.proxy.ejb.ListEntityInterceptor</interceptor>
             <!--interceptor>org.jboss.proxy.SecurityInterceptor</interceptor-->
             <interceptor>org.jboss.proxy.TransactionInterceptor</interceptor>
             <interceptor>org.jboss.invocation.InvokerInterceptor</interceptor>
           </list-entity>
	 </client-interceptors>
	 <instance-pool>org.jboss.ejb.plugins.EntityInstancePool</instance-pool>
	 <instance-cache>org.jboss.ejb.plugins.ClusterSyncEntityInstanceCache</instance-cache>
	 <persistence-manager>org.jboss.ejb.plugins.CMPClusteredInMemoryPersistenceManager</persistence-manager>
	 <transaction-manager>org.jboss.tm.TxManager</transaction-manager>
	 <locking-policy>org.jboss.ejb.plugins.lock.QueuedPessimisticEJBLock</locking-policy>
	 <container-invoker-conf>
	    <RMIObjectPort>4444</RMIObjectPort>
	    <Optimized>True</Optimized>
	 </container-invoker-conf>
	 <container-cache-conf>
	    <cache-policy>org.jboss.ejb.plugins.LRUEnterpriseContextCachePolicy</cache-policy>
	    <cache-policy-conf>
	       <min-capacity>50</min-capacity>
	       <max-capacity>1000000</max-capacity>
	       <overager-period>300</overager-period>
	       <max-bean-age>600</max-bean-age>
	       <resizer-period>400</resizer-period>
	       <max-cache-miss-period>60</max-cache-miss-period>
	       <min-cache-miss-period>1</min-cache-miss-period>
	       <cache-load-factor>0.75</cache-load-factor>
	    </cache-policy-conf>
	 </container-cache-conf>
	 <container-pool-conf>
	    <MaximumSize>100</MaximumSize>
	    <MinimumSize>10</MinimumSize>
	 </container-pool-conf>
	 <commit-option>A</commit-option>
      </container-configuration>
    </container-configurations>
      <enterprise-beans>
         <entity>
            <ejb-name>ClusteredHTTPSession</ejb-name>
            <jndi-name>clustering/HTTPSession</jndi-name>
            <local-jndi-name>clustering/LocalHTTPSession</local-jndi-name>
            <configuration-name>Clustered in-memory CMP EntityBean</configuration-name>
         </entity>
      </enterprise-beans>
</jboss>
